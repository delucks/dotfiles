# -----
# delucks' i3 config file
#
# Peep dat http://i3wm.org/docs/userguide.html for a complete reference!

# Note that the first 18 lines are reserved for color inits. This is because they're all generated automatically
# when I update my .Xresources. When my bash-fu gets better, I'll figure out a way to insert them properly somewhere in the file

set $mod Mod4
set $mod4 Mod1
set $modr Mode_switch
floating_modifier $mod

# -----
# Font
font -*-tamsyn-medium-r-*-*-17-*-*-*-*-*-iso8859-*

# -----
# Colors

new_window pixel 5
new_float pixel 5
hide_edge_borders none

for_window [class="^.*"] border pixel 5
gaps outer 10
gaps inner 30

# -----
# Client-specific rules

assign [class="net-minecraft-LauncherFrame"] 5:g
assign [class="Steam"] 5:g

for_window [class="net-minecraft-LauncherFrame"] floating enable
for_window [class="MPlayer"] floating enable
for_window [class="VMWare"] floating enable
for_window [class="Lxappearance"] floating enable
for_window [class="Steam"] floating enable
for_window [class="Event Tester"] floating enable
for_window [class="mirage"] floating enable
for_window [class="feh"] floating enable
for_window [class="rdesktop"] floating enable
for_window [class="violet"] floating enable

for_window [class="feh"] border normal

# -----
# Keymaps

# Mode Changing
bindsym $mod+grave mode "game"
bindsym $mod+r mode "resize"

# Special Keys
bindsym XF86KbdBrightnessUp exec asus-kbd-backlight up
bindsym XF86KbdBrightnessDown exec asus-kbd-backlight down 
bindsym XF86TouchpadToggle exec ~/scripts/touchpadtoggle
bindsym XF86WebCam exec "scrot -q 100 '%Y-%m-%d_%H-%M-%S_$wx$h.png' -e 'mv $f ~/img/screenshot'"
bindsym XF86AudioRaiseVolume exec ~/scripts/dvol -i 5
bindsym XF86AudioLowerVolume exec ~/scripts/dvol -d 5
bindsym XF86AudioMute exec ~/scripts/dvol -t
bindsym XF86AudioPlay exec ~/scripts/spotifyctrl.sh toggle
bindsym XF86AudioNext exec ~/scripts/spotifyctrl.sh next
bindsym XF86AudioPrev exec ~/scripts/spotifyctrl.sh prev
bindsym XF86AudioStop exec ~/scripts/spotifyctrl.sh toggle
bindsym XF86Calculator exec ~/scripts/dmenu_calc
bindsym XF86Launch6 exec ~/scripts/block

# Program and Menu Launchers
bindsym $mod+t exec urxvt
bindsym $mod4+t exec urxvt -e bash -c 'ssh cluster'

# All muh Alt+Fn Menus
bindsym $mod+F1 exec ~/scripts/dmenu_man
bindsym $mod+F2 exec ~/scripts/dmenu_run_enhanced
bindsym $mod+F3 exec ~/scripts/dmenu_ssh
#bindsym $mod+F4 exec ~/scripts/
#bindsym $mod+F5 exec ~/scripts/
#bindsym $mod+F6 exec ~/scripts/
#bindsym $mod+F7 exec ~/scripts/
#bindsym $mod+F8 exec ~/scripts/
#bindsym $mod+F9 exec ~/scripts/
bindsym $mod+F10 exec amixer set Speaker toggle
#bindsym $mod+F11 exec ~/scripts/
#bindsym $mod+F12 exec ~/scripts/

# Kill Client
bindsym $mod+Shift+r kill

# Jump to Previous Window using Marks
bindsym $mod+Shift+p exec i3-input -F 'mark %s' -l 1 -P 'Mark: '
bindsym $mod+p exec i3-input -F '[con_mark="%s"] focus' -l 1 -P 'Goto: '

# Change Focus, Move
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Shift+h move left 50px
bindsym $mod+Shift+j move down 50px
bindsym $mod+Shift+k move up 50px
bindsym $mod+Shift+l move right 50px
bindsym $mod+Control+h resize shrink width 20 px or 10 ppt
bindsym $mod+Control+j resize grow height 20 px or 10 ppt
bindsym $mod+Control+k resize shrink height 20 px or 10 ppt
bindsym $mod+Control+l resize grow width 20 px or 10 ppt

bindsym $mod+apostrophe fullscreen
bindsym $mod+m floating toggle
bindsym $mod+Shift+m focus mode_toggle
bindsym $mod+c move position center

bindsym $mod+u split v
bindsym $mod+o split h

bindsym $mod+Shift+space layout toggle
bindsym $mod+space layout toggle split

#bindsym $mod+e focus parent
#bindsym $mod+d focus child

# Workspaces
bindsym $mod+w workspace next
bindsym $mod+Shift+w move container to workspace next
bindsym $mod+b workspace prev
bindsym $mod+Shift+b move container to workspace prev

bindsym $mod+a workspace 1:a
bindsym $mod+s workspace 2:s
bindsym $mod+d workspace 3:d
bindsym $mod+f workspace 4:f
bindsym $mod+g workspace 5:g

bindsym $mod+Shift+a move container to workspace 1:a
bindsym $mod+Shift+s move container to workspace 2:s
bindsym $mod+Shift+d move container to workspace 3:d
bindsym $mod+Shift+f move container to workspace 4:f
bindsym $mod+Shift+g move container to workspace 5:g

#bindsym $mod+g exec i3-input -F 'rename workspace to %s' -l 1 -P 'New name: ' bindsym $mod+Shift+f exec i3-input -F 'move container to workspace %s' -l 1 -P 'Move to workspace: '
#bindsym $mod+f exec i3-input -F 'workspace %s' -l 1 -P 'Jump to workspace: '
#bindsym XF86Launch2 exec i3-input -F 'workspace %s' -l 1 -P 'Jump to workspace: ' 

bindsym $mod+comma scratchpad show
bindsym $mod+Shift+comma move scratchpad

mode "game" {
  bindsym $mod+Shift+grave mode "default"
}

# ---
# Resize Mode

mode "resize" {
  # Mode Changes
  bindsym i mode "default"
  bindsym grave mode "normal"
  bindsym Escape mode "default"

  # Window Changes
  bindsym h resize shrink width 20 px or 10 ppt
  bindsym j resize grow height 20 px or 10 ppt
  bindsym k resize shrink height 20 px or 10 ppt
  bindsym l resize grow width 20 px or 10 ppt
}

# -----
# General

# Reload the configuration file
#bindsym $mod+Escape reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Escape restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+Escape exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# -----
# i3bar

#bar {
#  modifier $mod
#  status_command i3status --config ~/.i3status.conf
#  tray_output none # Fuck yo tray!
#
#  mode dock
#  position top
#
#  colors {
#    # These are set to single values
#    background $bg
#    statusline $fg
#    separator $fg
#
#    # These are triplets of border, background, text
#    focused_workspace $fg $bg $fg
#    active_workspace $wh $cy
#    inactive_workspace $wh $bg $wh
#    urgent_workspace $bg $rd
#  }
#}

# -----
# General Settings
#new_window pixel 0
focus_follows_mouse no
workspace_auto_back_and_forth no

# -----
# Program Execution
exec compton &
exec sh ~/.fehbg &

# -----
# Real colors
#set $background #021b21
#set $color0 #032c36
#set $color1 #c2454e
#set $color10 #a2d9b1
#set $color11 #beb090
#set $color12 #61778d
#set $color13 #ff99a1
#set $color14 #9ed9d8
#set $color15 #f6f6c9
#set $color2 #7cbf9e
#set $color3 #8a7a63
#set $color4 #555d71
#set $color5 #ff5879
#set $color6 #44b5b1
#set $color7 #f2f1b9
#set $color8 #065f73
#set $color9 #ef5847
#set $foreground #e8dfd6
set $color0 #333333
set $color1 #8b3e2f
set $color10 #7b8748
set $color11 #eee685
set $color12 #6095c5
set $color13 #9f79ee
set $color14 #a9cdcd
set $color15 #e8e9ca
set $color16 #222222
set $color17 #e8e9ca
set $color2 #526f33
set $color3 #af865a
set $color4 #535C5C
set $color5 #775759
set $color6 #42717B
set $color7 #aaaaaa
set $color8 #4c4c4c
set $color9 #d75f00

# Class                      border            backgr.        text        indicator
client.focused              $background        $color9        $color3     $color0
client.focused_inactive     $background        $color0        $color3     $color0
client.unfocused            $background        $color0        $color3     $color4
client.urgent               $background        $color1        $color3     $color3
